<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="PSY4179-N">
<title>Advanced Psychological Research Methods - 9&nbsp; Factor Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./mediation.html" rel="prev">
<link href="./images/logos/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
<link rel="stylesheet" href="include/booktem.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/glossary.css">
<link rel="stylesheet" href="include/style.css">
<link rel="stylesheet" href="aprm23/include/webex.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Factor Analysis</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Psychological Research Methods</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="" title="Download" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-download"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
<li>
          <a class="dropdown-item sidebar-tools-main-item" href="./Advanced-Psychological-Research-Methods.pdf">
            <i class="bi bi-bi-file-pdf pe-1"></i>
          Download PDF
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./Advanced-Psychological-Research-Methods.epub">
            <i class="bi bi-bi-journal pe-1"></i>
          Download ePub
          </a>
        </li>
    </ul>
<a href="" title="Share" id="sidebar-tool-dropdown-1" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-1">
<li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
            <i class="bi bi-bi-linkedin pe-1"></i>
          LinkedIn
          </a>
        </li>
    </ul>
<a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome to the module</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introductiontoR.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to R and R Studio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workingWithData.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Working with data in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./descriptives.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory and descriptive analysis with R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graphing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Graphing and data visualisation with R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Correlation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multipleRegression.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Multiple Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./moderation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Moderation analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Mediation analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./factorAnalysis.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Factor Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="toc-section-number">9.1</span>  Overview</a></li>
  <li>
<a href="#exploratory-factor-analysis" id="toc-exploratory-factor-analysis" class="nav-link" data-scroll-target="#exploratory-factor-analysis"><span class="toc-section-number">9.2</span>  Exploratory Factor analysis</a>
  <ul class="collapse">
<li><a href="#dimension-reducton" id="toc-dimension-reducton" class="nav-link" data-scroll-target="#dimension-reducton"><span class="toc-section-number">9.2.1</span>  Dimension reducton</a></li>
  <li><a href="#data-summarisation" id="toc-data-summarisation" class="nav-link" data-scroll-target="#data-summarisation"><span class="toc-section-number">9.2.2</span>  Data summarisation</a></li>
  </ul>
</li>
  <li>
<a href="#variance-in-exploratory-factor-analysis" id="toc-variance-in-exploratory-factor-analysis" class="nav-link" data-scroll-target="#variance-in-exploratory-factor-analysis"><span class="toc-section-number">9.3</span>  Variance in exploratory factor analysis</a>
  <ul class="collapse">
<li><a href="#variance-in-pca" id="toc-variance-in-pca" class="nav-link" data-scroll-target="#variance-in-pca"><span class="toc-section-number">9.3.1</span>  Variance in PCA</a></li>
  <li><a href="#variance-in-cfa" id="toc-variance-in-cfa" class="nav-link" data-scroll-target="#variance-in-cfa"><span class="toc-section-number">9.3.2</span>  Variance in CFA</a></li>
  </ul>
</li>
  <li><a href="#what-is-factor-analysis" id="toc-what-is-factor-analysis" class="nav-link" data-scroll-target="#what-is-factor-analysis"><span class="toc-section-number">9.4</span>  What is factor analysis?</a></li>
  <li><a href="#considerations-with-factor-analysis" id="toc-considerations-with-factor-analysis" class="nav-link" data-scroll-target="#considerations-with-factor-analysis"><span class="toc-section-number">9.5</span>  Considerations with factor analysis</a></li>
  <li><a href="#representing-factor-analysis" id="toc-representing-factor-analysis" class="nav-link" data-scroll-target="#representing-factor-analysis"><span class="toc-section-number">9.6</span>  Representing factor analysis</a></li>
  <li><a href="#step-1-create-a-correlation-matrix" id="toc-step-1-create-a-correlation-matrix" class="nav-link" data-scroll-target="#step-1-create-a-correlation-matrix"><span class="toc-section-number">9.7</span>  Step 1: Create a correlation matrix</a></li>
  <li><a href="#step-2-lets-check-for-inter-correlation" id="toc-step-2-lets-check-for-inter-correlation" class="nav-link" data-scroll-target="#step-2-lets-check-for-inter-correlation"><span class="toc-section-number">9.8</span>  Step 2: Let’s check for Inter-correlation <good></good></a></li>
  <li><a href="#step-3-check-sampling-adequacy" id="toc-step-3-check-sampling-adequacy" class="nav-link" data-scroll-target="#step-3-check-sampling-adequacy"><span class="toc-section-number">9.9</span>  Step 3: Check sampling adequacy</a></li>
  <li>
<a href="#step-4-identify-number-of-factors" id="toc-step-4-identify-number-of-factors" class="nav-link" data-scroll-target="#step-4-identify-number-of-factors"><span class="toc-section-number">9.10</span>  Step 4: Identify number of factors</a>
  <ul class="collapse">
<li><a href="#which-rule" id="toc-which-rule" class="nav-link" data-scroll-target="#which-rule"><span class="toc-section-number">9.10.1</span>  Which rule?</a></li>
  <li><a href="#scree-plot" id="toc-scree-plot" class="nav-link" data-scroll-target="#scree-plot"><span class="toc-section-number">9.10.2</span>  Scree plot</a></li>
  <li><a href="#parallel-analysis" id="toc-parallel-analysis" class="nav-link" data-scroll-target="#parallel-analysis"><span class="toc-section-number">9.10.3</span>  Parallel analysis</a></li>
  </ul>
</li>
  <li>
<a href="#step-5-perform-factor-analysis-with-initial-recommended-factors" id="toc-step-5-perform-factor-analysis-with-initial-recommended-factors" class="nav-link" data-scroll-target="#step-5-perform-factor-analysis-with-initial-recommended-factors"><span class="toc-section-number">9.11</span>  Step 5: Perform factor analysis (with initial recommended # factors)</a>
  <ul class="collapse">
<li><a href="#check-the-factor-matrix" id="toc-check-the-factor-matrix" class="nav-link" data-scroll-target="#check-the-factor-matrix"><span class="toc-section-number">9.11.1</span>  Check the factor matrix</a></li>
  <li><a href="#check-the-structure-matrix" id="toc-check-the-structure-matrix" class="nav-link" data-scroll-target="#check-the-structure-matrix"><span class="toc-section-number">9.11.2</span>  Check the structure matrix</a></li>
  <li><a href="#check-eigenvalues" id="toc-check-eigenvalues" class="nav-link" data-scroll-target="#check-eigenvalues"><span class="toc-section-number">9.11.3</span>  Check eigenvalues</a></li>
  <li><a href="#check-communalities" id="toc-check-communalities" class="nav-link" data-scroll-target="#check-communalities"><span class="toc-section-number">9.11.4</span>  Check communalities</a></li>
  </ul>
</li>
  <li><a href="#step-6-perform-factor-analysis-with-reduced-number-of-factors" id="toc-step-6-perform-factor-analysis-with-reduced-number-of-factors" class="nav-link" data-scroll-target="#step-6-perform-factor-analysis-with-reduced-number-of-factors"><span class="toc-section-number">9.12</span>  Step 6: Perform factor analysis (with reduced number of factors)</a></li>
  <li><a href="#factor-analysis-rotation" id="toc-factor-analysis-rotation" class="nav-link" data-scroll-target="#factor-analysis-rotation"><span class="toc-section-number">9.13</span>  Factor analysis rotation</a></li>
  <li><a href="#step-7-rotation" id="toc-step-7-rotation" class="nav-link" data-scroll-target="#step-7-rotation"><span class="toc-section-number">9.14</span>  Step 7: Rotation</a></li>
  <li>
<a href="#reliability-internal-consistency" id="toc-reliability-internal-consistency" class="nav-link" data-scroll-target="#reliability-internal-consistency"><span class="toc-section-number">9.15</span>  Reliability / internal consistency</a>
  <ul class="collapse">
<li><a href="#cronbachs-alpha" id="toc-cronbachs-alpha" class="nav-link" data-scroll-target="#cronbachs-alpha"><span class="toc-section-number">9.15.1</span>  Cronbach’s Alpha</a></li>
  <li><a href="#chronbachs-alpha-in-r" id="toc-chronbachs-alpha-in-r" class="nav-link" data-scroll-target="#chronbachs-alpha-in-r"><span class="toc-section-number">9.15.2</span>  Chronbach’s Alpha in R</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">
<span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Factor Analysis</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="cell" data-layout-align="center">

</div>
<section id="overview" class="level2" data-number="9.1"><h2 data-number="9.1" class="anchored" data-anchor-id="overview">
<span class="header-section-number">9.1</span> Overview</h2>
<ul>
<li>What is factor analysis</li>
<li>CFA versus PCA</li>
<li>Variance in factor analysis</li>
<li>Considertations for factor analysis</li>
<li>Identifying / extracting factors</li>
<li>Rotation</li>
<li>Cronbach’s alpha</li>
</ul></section><section id="exploratory-factor-analysis" class="level2" data-number="9.2"><h2 data-number="9.2" class="anchored" data-anchor-id="exploratory-factor-analysis">
<span class="header-section-number">9.2</span> Exploratory Factor analysis</h2>
<ul>
<li>Identify the relational structure between a set of variables in order to reduce them to a smaller set of factors
<ul>
<li>The process of <strong>dimension reduction</strong> (identify new variables) or <strong>data summarisation</strong> (summarise what is already there)</li>
</ul>
</li>
</ul>
<section id="dimension-reducton" class="level3" data-number="9.2.1"><h3 data-number="9.2.1" class="anchored" data-anchor-id="dimension-reducton">
<span class="header-section-number">9.2.1</span> Dimension reducton</h3>
<ul>
<li>
<strong>Latent Variables</strong>: Not directly observable. Rather they are inferred from other responses
<ul>
<li>Many psychological constructs (e.g.&nbsp;anxiety) are latent variables that we cannot directly measure.</li>
<li>Rather, we can measure behaviours, cognitions and other variables that are related to the construct.</li>
</ul>
</li>
</ul>
<blockquote class="blockquote">
<p>We might concptualise this as: “Responses to the questions are indicative of levels of underlying anxiety”</p>
</blockquote>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/cfas.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="data-summarisation" class="level3" data-number="9.2.2"><h3 data-number="9.2.2" class="anchored" data-anchor-id="data-summarisation">
<span class="header-section-number">9.2.2</span> Data summarisation</h3>
<ul>
<li><p><strong>Index Variables</strong> or <strong>Components</strong>: A weighted summary of measured variables that contribute to the component variable</p></li>
<li><p>“Principal components are variables of maximal variance constructed from linear combinations of the input features”</p></li>
</ul>
<blockquote class="blockquote">
<p>We might conceptualise this as: “We can reduce these measures/questions to a smaller set of higher order, independent, composite variables”</p>
</blockquote>
</section></section><section id="variance-in-exploratory-factor-analysis" class="level2" data-number="9.3"><h2 data-number="9.3" class="anchored" data-anchor-id="variance-in-exploratory-factor-analysis">
<span class="header-section-number">9.3</span> Variance in exploratory factor analysis</h2>
<p>There are two common methods of exploratory factor analysis: <strong>Common Factor analysis</strong> and <strong>Principal Component Analysis</strong></p>
<ul>
<li>CFA assumes that there are two types of variance: common and unique</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/cfavariance.png" class="img-fluid figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<section id="variance-in-pca" class="level3" data-number="9.3.1"><h3 data-number="9.3.1" class="anchored" data-anchor-id="variance-in-pca">
<span class="header-section-number">9.3.1</span> Variance in PCA</h3>
<ul>
<li>PCA only assumes common variance</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/pcavariance.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="variance-in-cfa" class="level3" data-number="9.3.2"><h3 data-number="9.3.2" class="anchored" data-anchor-id="variance-in-cfa">
<span class="header-section-number">9.3.2</span> Variance in CFA</h3>
<ul>
<li>Due to these different approaches, PCA is considered to be reflective of the current sample but not generalisable to the wider population</li>
<li>Whereas, CFA is considered appropriate for hypothesis testing and making inferences to the population</li>
</ul></section></section><section id="what-is-factor-analysis" class="level2" data-number="9.4"><h2 data-number="9.4" class="anchored" data-anchor-id="what-is-factor-analysis">
<span class="header-section-number">9.4</span> What is factor analysis?</h2>
<ul>
<li>If we measure several variables (or questions), we can examine the correlation between sets of these variables
<ul>
<li>Such a correlation matrix is known as an <strong>R Matrix</strong> (<em>r</em> because correlation)</li>
</ul>
</li>
<li>If there are clusters of correlations between a number of the variables (or questions), this indicates that they might be linked to the same underlying dimension (or latent variable)</li>
<li>The researcher should use informed judgement when assessing the appropriateness of variables for inclusion</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/rmatrix.png" style="width:100.0%;height:100.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>An r matrix example</p>
</section><section id="considerations-with-factor-analysis" class="level2" data-number="9.5"><h2 data-number="9.5" class="anchored" data-anchor-id="considerations-with-factor-analysis">
<span class="header-section-number">9.5</span> Considerations with factor analysis</h2>
<ul>
<li>Sample size:
<ul>
<li>Must be more data points than variables being measured</li>
<li>A common rule of thumb is at least 10 per variable</li>
<li>There are tests to assess sample size adequacy (e.g.&nbsp;Kaiser-Meyer test should be greater than 0.5)</li>
</ul>
</li>
<li>Inter-correlation:
<ul>
<li>There must be sufficient correlation between the variables being measured</li>
<li>A high number of correlations over 0.3</li>
<li>Can be tested using Bartlett test of sphericity (sig. result means factor analysis can be used)</li>
</ul>
</li>
</ul>
<p><strong>Other things to check (see Field, 2018) </strong></p>
<ul>
<li>The quality of analysis depends upon the quality of the data (GI/GO).</li>
<li>Avoid multicollinearity:
<ul>
<li>several variables highly correlated, r &gt; .80.</li>
<li>Determinent: should be greater than 0.00001</li>
</ul>
</li>
<li>Avoid singularity:
<ul>
<li>some variables perfectly correlated, r = 1.</li>
</ul>
</li>
<li>Screen the correlation matrix, eliminate any variables that obviously cause concern.</li>
</ul></section><section id="representing-factor-analysis" class="level2" data-number="9.6"><h2 data-number="9.6" class="anchored" data-anchor-id="representing-factor-analysis">
<span class="header-section-number">9.6</span> Representing factor analysis</h2>
<blockquote class="blockquote">
<p>We can represent factors visually based on the strength of their inter-correlations - Here, the axis of the graph represents a factor or latent variable</p>
</blockquote>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/efaplot.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>We can also represent factor analysis using a regression equation - Here the beta values represent the extent to which the variable “loads onto” a particular factor</p>
</blockquote>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/efaeq1.pngimg/efaeq2.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p><strong>Example: Statistics anxiety</strong></p>
<ul>
<li><p>Many people get anxious about statistics</p></li>
<li><p>We can ask them about their experience in a number of ways (e.g.&nbsp;questions compiled by students in a stats class)</p></li>
<li>
<p>Their responses might indicate that stats anxiety has a number of dimensions</p>
<ul>
<li>i.e.&nbsp;it is a multi-dimensional construct, as opposed to a unitary construct</li>
</ul>
</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/raq.png" style="width:100.0%;height:100.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section><section id="step-1-create-a-correlation-matrix" class="level2" data-number="9.7"><h2 data-number="9.7" class="anchored" data-anchor-id="step-1-create-a-correlation-matrix">
<span class="header-section-number">9.7</span> Step 1: Create a correlation matrix</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>raq.matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(raq)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>raq.matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Q01         Q02        Q03         Q04         Q05         Q06
Q01  1.000000000 -0.09872403 -0.3366489  0.43586018  0.40243992  0.21673399
Q02 -0.098724032  1.00000000  0.3183902 -0.11185965 -0.11934658 -0.07420968
Q03 -0.336648879  0.31839020  1.0000000 -0.38046016 -0.31030879 -0.22674048
Q04  0.435860179 -0.11185965 -0.3804602  1.00000000  0.40067225  0.27820154
Q05  0.402439917 -0.11934658 -0.3103088  0.40067225  1.00000000  0.25746014
Q06  0.216733985 -0.07420968 -0.2267405  0.27820154  0.25746014  1.00000000
Q07  0.305365139 -0.15917448 -0.3819533  0.40861502  0.33939179  0.51358048
Q08  0.330737608 -0.04962257 -0.2586342  0.34942939  0.26862697  0.22283175
Q09 -0.092339458  0.31464054  0.2998036 -0.12454637 -0.09570151 -0.11264384
Q10  0.213681706 -0.08400316 -0.1933887  0.21581010  0.25820925  0.32223023
Q11  0.356786290 -0.14382984 -0.3506397  0.36865655  0.29782882  0.32807072
Q12  0.345381133 -0.19486946 -0.4099513  0.44164706  0.34674325  0.31250937
Q13  0.354646283 -0.14274026 -0.3179193  0.34429168  0.30182159  0.46640487
Q14  0.337879655 -0.16469991 -0.3707551  0.35080964  0.31533810  0.40224407
Q15  0.245752635 -0.16499581 -0.3123968  0.33423089  0.26137190  0.35989309
Q16  0.498618057 -0.16755228 -0.4186478  0.41586725  0.39491795  0.24433888
Q17  0.370550512 -0.08699527 -0.3273715  0.38273945  0.31041722  0.28226121
Q18  0.347118037 -0.16389415 -0.3752329  0.38200149  0.32209148  0.51332164
Q19 -0.189011027  0.20329748  0.3415737 -0.18597751 -0.16532210 -0.16675017
Q20  0.213897945 -0.20159437 -0.3248338  0.24291796  0.19966945  0.10092489
Q21  0.329153138 -0.20461730 -0.4171878  0.41029317  0.33461494  0.27233273
Q22 -0.104408664  0.23087487  0.2036569 -0.09838349 -0.13253593 -0.16513541
Q23 -0.004480593  0.09967828  0.1502065 -0.03381815 -0.04165684 -0.06868743
            Q07         Q08         Q09         Q10         Q11         Q12
Q01  0.30536514  0.33073761 -0.09233946  0.21368171  0.35678629  0.34538113
Q02 -0.15917448 -0.04962257  0.31464054 -0.08400316 -0.14382984 -0.19486946
Q03 -0.38195325 -0.25863421  0.29980362 -0.19338871 -0.35063969 -0.40995127
Q04  0.40861502  0.34942939 -0.12454637  0.21581010  0.36865655  0.44164706
Q05  0.33939179  0.26862697 -0.09570151  0.25820925  0.29782882  0.34674325
Q06  0.51358048  0.22283175 -0.11264384  0.32223023  0.32807072  0.31250937
Q07  1.00000000  0.29749696 -0.12829828  0.28372299  0.34474770  0.42298591
Q08  0.29749696  1.00000000  0.01573316  0.15860850  0.62929768  0.25198582
Q09 -0.12829828  0.01573316  1.00000000 -0.13418658 -0.11552479 -0.16739436
Q10  0.28372299  0.15860850 -0.13418658  1.00000000  0.27143657  0.24582591
Q11  0.34474770  0.62929768 -0.11552479  0.27143657  1.00000000  0.33529466
Q12  0.42298591  0.25198582 -0.16739436  0.24582591  0.33529466  1.00000000
Q13  0.44211926  0.31424716 -0.16743882  0.30196707  0.42316548  0.48871303
Q14  0.44070276  0.28058958 -0.12150197  0.25468730  0.32532025  0.43270398
Q15  0.39136675  0.29968600 -0.18657099  0.29523438  0.36482687  0.33179910
Q16  0.38854534  0.32149420 -0.18886556  0.29058576  0.36907763  0.40805908
Q17  0.39074283  0.59014022 -0.03681556  0.21832214  0.58683495  0.33269383
Q18  0.50086685  0.27974433 -0.14957782  0.29250304  0.37341373  0.49296482
Q19 -0.26912031 -0.15947671  0.24931170 -0.12723487 -0.19965203 -0.26665953
Q20  0.22095420  0.17515089 -0.15864747  0.08406520  0.25533736  0.29802585
Q21  0.48300388  0.29571756 -0.13594310  0.19313633  0.34643407  0.44063832
Q22 -0.16820488 -0.07917265  0.25684622 -0.13090831 -0.16198921 -0.16728557
Q23 -0.07029016 -0.05023839  0.17077441 -0.06191796 -0.08637256 -0.04642506
            Q13         Q14         Q15         Q16         Q17         Q18
Q01  0.35464628  0.33787966  0.24575263  0.49861806  0.37055051  0.34711804
Q02 -0.14274026 -0.16469991 -0.16499581 -0.16755228 -0.08699527 -0.16389415
Q03 -0.31791928 -0.37075510 -0.31239678 -0.41864780 -0.32737145 -0.37523290
Q04  0.34429168  0.35080964  0.33423089  0.41586725  0.38273945  0.38200149
Q05  0.30182159  0.31533810  0.26137190  0.39491795  0.31041722  0.32209148
Q06  0.46640487  0.40224407  0.35989309  0.24433888  0.28226121  0.51332164
Q07  0.44211926  0.44070276  0.39136675  0.38854534  0.39074283  0.50086685
Q08  0.31424716  0.28058958  0.29968600  0.32149420  0.59014022  0.27974433
Q09 -0.16743882 -0.12150197 -0.18657099 -0.18886556 -0.03681556 -0.14957782
Q10  0.30196707  0.25468730  0.29523438  0.29058576  0.21832214  0.29250304
Q11  0.42316548  0.32532025  0.36482687  0.36907763  0.58683495  0.37341373
Q12  0.48871303  0.43270398  0.33179910  0.40805908  0.33269383  0.49296482
Q13  1.00000000  0.44978632  0.34219704  0.35837775  0.40837657  0.53293713
Q14  0.44978632  1.00000000  0.38011484  0.41841820  0.35374183  0.49830615
Q15  0.34219704  0.38011484  1.00000000  0.45427861  0.37310235  0.34287045
Q16  0.35837775  0.41841820  0.45427861  1.00000000  0.40976309  0.42197911
Q17  0.40837657  0.35374183  0.37310235  0.40976309  1.00000000  0.37560681
Q18  0.53293713  0.49830615  0.34287045  0.42197911  0.37560681  1.00000000
Q19 -0.22697105 -0.25405813 -0.20980230 -0.26704702 -0.16288096 -0.25663183
Q20  0.20396327  0.22592173  0.20625622  0.26514025  0.20523013  0.23518040
Q21  0.37443078  0.39938896  0.29971557  0.42054273  0.36349147  0.43010427
Q22 -0.19535632 -0.16983754 -0.16790617 -0.15579385 -0.12629066 -0.15982631
Q23 -0.05298304 -0.04847418 -0.06200665 -0.08152195 -0.09167243 -0.08041698
           Q19         Q20         Q21         Q22          Q23
Q01 -0.1890110  0.21389794  0.32915314 -0.10440866 -0.004480593
Q02  0.2032975 -0.20159437 -0.20461730  0.23087487  0.099678285
Q03  0.3415737 -0.32483385 -0.41718781  0.20365686  0.150206522
Q04 -0.1859775  0.24291796  0.41029317 -0.09838349 -0.033818152
Q05 -0.1653221  0.19966945  0.33461494 -0.13253593 -0.041656841
Q06 -0.1667502  0.10092489  0.27233273 -0.16513541 -0.068687430
Q07 -0.2691203  0.22095420  0.48300388 -0.16820488 -0.070290157
Q08 -0.1594767  0.17515089  0.29571756 -0.07917265 -0.050238392
Q09  0.2493117 -0.15864747 -0.13594310  0.25684622  0.170774410
Q10 -0.1272349  0.08406520  0.19313633 -0.13090831 -0.061917956
Q11 -0.1996520  0.25533736  0.34643407 -0.16198921 -0.086372565
Q12 -0.2666595  0.29802585  0.44063832 -0.16728557 -0.046425059
Q13 -0.2269710  0.20396327  0.37443078 -0.19535632 -0.052983042
Q14 -0.2540581  0.22592173  0.39938896 -0.16983754 -0.048474181
Q15 -0.2098023  0.20625622  0.29971557 -0.16790617 -0.062006650
Q16 -0.2670470  0.26514025  0.42054273 -0.15579385 -0.081521950
Q17 -0.1628810  0.20523013  0.36349147 -0.12629066 -0.091672426
Q18 -0.2566318  0.23518040  0.43010427 -0.15982631 -0.080416984
Q19  1.0000000 -0.24859386 -0.27489793  0.23392259  0.122434401
Q20 -0.2485939  1.00000000  0.46770448 -0.09970186 -0.034665293
Q21 -0.2748979  0.46770448  1.00000000 -0.12902148 -0.067664367
Q22  0.2339226 -0.09970186 -0.12902148  1.00000000  0.230369402
Q23  0.1224344 -0.03466529 -0.06766437  0.23036940  1.000000000</code></pre>
</div>
</div>
</section><section id="step-2-lets-check-for-inter-correlation" class="level2" data-number="9.8"><h2 data-number="9.8" class="anchored" data-anchor-id="step-2-lets-check-for-inter-correlation">
<span class="header-section-number">9.8</span> Step 2: Let’s check for Inter-correlation <good></good>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">corrplot</span>(raq.matrix, <span class="at">method =</span> <span class="st">"number"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="factorAnalysis_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>We can use bartlett’s test from the psych package</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">cortest.bartlett</span>(raq.matrix, <span class="at">n=</span><span class="dv">2571</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$chisq
[1] 19334.49

$p.value
[1] 0

$df
[1] 253</code></pre>
</div>
</div>
</section><section id="step-3-check-sampling-adequacy" class="level2" data-number="9.9"><h2 data-number="9.9" class="anchored" data-anchor-id="step-3-check-sampling-adequacy">
<span class="header-section-number">9.9</span> Step 3: Check sampling adequacy</h2>
<ul>
<li>Overall should be &gt; 0.5</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">KMO</span>(raq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Kaiser-Meyer-Olkin factor adequacy
Call: KMO(r = raq)
Overall MSA =  0.93
MSA for each item = 
 Q01  Q02  Q03  Q04  Q05  Q06  Q07  Q08  Q09  Q10  Q11  Q12  Q13  Q14  Q15  Q16 
0.93 0.87 0.95 0.96 0.96 0.89 0.94 0.87 0.83 0.95 0.91 0.95 0.95 0.97 0.94 0.93 
 Q17  Q18  Q19  Q20  Q21  Q22  Q23 
0.93 0.95 0.94 0.89 0.93 0.88 0.77 </code></pre>
</div>
</div>
</section><section id="step-4-identify-number-of-factors" class="level2" data-number="9.10"><h2 data-number="9.10" class="anchored" data-anchor-id="step-4-identify-number-of-factors">
<span class="header-section-number">9.10</span> Step 4: Identify number of factors</h2>
<ul>
<li>Based on Eigenvalues:
<ul>
<li>Kaiser (1960) – retain factors with eigen values &gt; 1.</li>
<li>Joliffe (1972) – retain factors with eigen values &gt; .70.</li>
</ul>
</li>
<li>Use a scree plot: Cattell (1966): use ‘point of inflexion’.</li>
</ul>
<section id="which-rule" class="level3" data-number="9.10.1"><h3 data-number="9.10.1" class="anchored" data-anchor-id="which-rule">
<span class="header-section-number">9.10.1</span> Which rule?</h3>
<ul>
<li>Use Kaiser’s extraction when
<ul>
<li>Less than 30 variables, communalities after extraction &gt; 0.7</li>
<li>Sample size &gt; 250 and mean communality &gt; 0.6</li>
</ul>
</li>
<li>Scree plot is good if sample size is &gt; 200</li>
</ul></section><section id="scree-plot" class="level3" data-number="9.10.2"><h3 data-number="9.10.2" class="anchored" data-anchor-id="scree-plot">
<span class="header-section-number">9.10.2</span> Scree plot</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">scree</span>(raq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="factorAnalysis_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>We are looking for the point of inflection</li>
<li>Where there is a drop-off</li>
</ul>
<blockquote class="blockquote">
<p>One approach: See how many factors we can draw a line through</p>
</blockquote>
</section><section id="parallel-analysis" class="level3" data-number="9.10.3"><h3 data-number="9.10.3" class="anchored" data-anchor-id="parallel-analysis">
<span class="header-section-number">9.10.3</span> Parallel analysis</h3>
<blockquote class="blockquote">
<p>How many dimensions of stats anxiety are captured in the questionnaire?</p>
</blockquote>
<ul>
<li>We can run a <strong>parallel analysis</strong> to get an indication of the number of factors contained within the data</li>
<li>Parallel Analysis:
<ul>
<li>Simulates data within the same range of values as our data set</li>
<li>Suggests that we retain, at maximum, the factors with eigenvalues larger than those extracted from simulated data.</li>
</ul>
</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/raq.png" style="width:100.0%;height:100.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a> parallel_analysis <span class="ot">&lt;-</span> <span class="fu">fa.parallel</span>(raq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="factorAnalysis_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  7  and the number of components =  4 </code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>parallel_analysis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: fa.parallel(x = raq)
Parallel analysis suggests that the number of factors =  7  and the number of components =  4 

 Eigen Values of 
  Original factors Resampled data Simulated data Original components
1             6.64           0.21           0.20                7.29
2             0.91           0.16           0.16                1.74
3             0.63           0.13           0.13                1.32
4             0.48           0.12           0.12                1.23
5             0.29           0.10           0.10                0.99
6             0.13           0.09           0.08                0.90
7             0.08           0.07           0.07                0.81
  Resampled components Simulated components
1                 1.17                 1.17
2                 1.15                 1.15
3                 1.13                 1.13
4                 1.11                 1.11
5                 1.09                 1.09
6                 1.08                 1.08
7                 1.06                 1.06</code></pre>
</div>
</div>
</section></section><section id="step-5-perform-factor-analysis-with-initial-recommended-factors" class="level2" data-number="9.11"><h2 data-number="9.11" class="anchored" data-anchor-id="step-5-perform-factor-analysis-with-initial-recommended-factors">
<span class="header-section-number">9.11</span> Step 5: Perform factor analysis (with initial recommended # factors)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>paf <span class="ot">&lt;-</span> <span class="fu">fa</span>(raq,</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="at">nfactors =</span> <span class="dv">6</span>,</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="at">fm=</span><span class="st">"pa"</span>,</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="at">max.iter =</span> <span class="dv">100</span>,</span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="at">rotate =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>paf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  pa
Call: fa(r = raq, nfactors = 6, rotate = "none", max.iter = 100, fm = "pa")
Standardized loadings (pattern matrix) based upon correlation matrix
      PA1   PA2   PA3   PA4   PA5   PA6   h2   u2 com
Q01  0.57  0.13 -0.12  0.23 -0.28 -0.19 0.52 0.48 2.3
Q02 -0.28  0.37  0.17  0.12 -0.03  0.01 0.26 0.74 2.6
Q03 -0.60  0.25  0.20 -0.02 -0.01  0.03 0.46 0.54 1.6
Q04  0.61  0.08 -0.06  0.18 -0.09 -0.03 0.42 0.58 1.3
Q05  0.52  0.04 -0.02  0.15 -0.17 -0.08 0.33 0.67 1.5
Q06  0.55  0.02  0.49 -0.17  0.07 -0.01 0.57 0.43 2.2
Q07  0.66 -0.03  0.22  0.03  0.11  0.06 0.50 0.50 1.3
Q08  0.55  0.49 -0.27 -0.21  0.10 -0.02 0.66 0.34 2.9
Q09 -0.27  0.46  0.12  0.21  0.10  0.03 0.35 0.65 2.4
Q10  0.40 -0.01  0.17 -0.09 -0.15  0.02 0.22 0.78 1.8
Q11  0.64  0.31 -0.20 -0.27  0.08 -0.04 0.63 0.37 2.1
Q12  0.64 -0.10  0.06  0.15  0.05 -0.07 0.45 0.55 1.2
Q13  0.65  0.02  0.22 -0.06  0.06 -0.13 0.50 0.50 1.4
Q14  0.63 -0.04  0.16  0.06  0.01  0.01 0.42 0.58 1.2
Q15  0.58 -0.01  0.07 -0.15 -0.19  0.44 0.59 0.41 2.3
Q16  0.66 -0.02 -0.11  0.14 -0.28  0.09 0.56 0.44 1.6
Q17  0.63  0.36 -0.15 -0.15  0.04  0.01 0.57 0.43 1.9
Q18  0.68 -0.04  0.28  0.04  0.09 -0.10 0.57 0.43 1.4
Q19 -0.40  0.27  0.11  0.06 -0.05  0.02 0.25 0.75 2.0
Q20  0.41 -0.17 -0.25  0.19  0.24  0.11 0.37 0.63 3.5
Q21  0.64 -0.10 -0.11  0.27  0.28  0.10 0.60 0.40 2.0
Q22 -0.28  0.29  0.05  0.28  0.05  0.11 0.26 0.74 3.4
Q23 -0.13  0.18  0.08  0.23  0.01  0.08 0.12 0.88 3.1

                       PA1  PA2  PA3  PA4  PA5  PA6
SS loadings           6.79 1.14 0.83 0.67 0.45 0.32
Proportion Var        0.30 0.05 0.04 0.03 0.02 0.01
Cumulative Var        0.30 0.34 0.38 0.41 0.43 0.44
Proportion Explained  0.67 0.11 0.08 0.07 0.04 0.03
Cumulative Proportion 0.67 0.78 0.86 0.92 0.97 1.00

Mean item complexity =  2
Test of the hypothesis that 6 factors are sufficient.

df null model =  253  with the objective function =  7.55 with Chi Square =  19334.49
df of  the model are 130  and the objective function was  0.23 

The root mean square of the residuals (RMSR) is  0.02 
The df corrected root mean square of the residuals is  0.02 

The harmonic n.obs is  2571 with the empirical chi square  364.66  with prob &lt;  3.9e-24 
The total n.obs was  2571  with Likelihood Chi Square =  578.65  with prob &lt;  7.6e-58 

Tucker Lewis Index of factoring reliability =  0.954
RMSEA index =  0.037  and the 90 % confidence intervals are  0.034 0.04
BIC =  -442.12
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                   PA1  PA2  PA3  PA4   PA5
Correlation of (regression) scores with factors   0.97 0.83 0.80 0.75  0.70
Multiple R square of scores with factors          0.93 0.68 0.64 0.56  0.48
Minimum correlation of possible factor scores     0.87 0.37 0.27 0.12 -0.03
                                                    PA6
Correlation of (regression) scores with factors    0.65
Multiple R square of scores with factors           0.42
Minimum correlation of possible factor scores     -0.17</code></pre>
</div>
</div>
<section id="check-the-factor-matrix" class="level3" data-number="9.11.1"><h3 data-number="9.11.1" class="anchored" data-anchor-id="check-the-factor-matrix">
<span class="header-section-number">9.11.1</span> Check the factor matrix</h3>
<ul>
<li>We are looking high levels of variance explained with SS loadings &gt; 1</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">print</span>(paf<span class="sc">$</span>loadings, <span class="at">cutoff=</span><span class="dv">0</span>, <span class="at">digits=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Loadings:
    PA1    PA2    PA3    PA4    PA5    PA6   
Q01  0.567  0.129 -0.120  0.229 -0.275 -0.188
Q02 -0.280  0.369  0.172  0.115 -0.029  0.009
Q03 -0.603  0.245  0.199 -0.022 -0.006  0.030
Q04  0.606  0.082 -0.056  0.184 -0.090 -0.033
Q05  0.523  0.043 -0.020  0.154 -0.167 -0.083
Q06  0.548  0.024  0.488 -0.166  0.073 -0.006
Q07  0.662 -0.026  0.223  0.030  0.107  0.057
Q08  0.545  0.488 -0.272 -0.214  0.096 -0.020
Q09 -0.266  0.462  0.124  0.210  0.097  0.032
Q10  0.405 -0.005  0.172 -0.090 -0.148  0.024
Q11  0.644  0.312 -0.199 -0.270  0.085 -0.037
Q12  0.641 -0.099  0.063  0.154  0.047 -0.067
Q13  0.650  0.024  0.223 -0.058  0.061 -0.134
Q14  0.626 -0.036  0.161  0.056  0.011  0.013
Q15  0.580 -0.007  0.072 -0.152 -0.188  0.436
Q16  0.661 -0.016 -0.109  0.138 -0.283  0.094
Q17  0.629  0.355 -0.155 -0.150  0.038  0.006
Q18  0.683 -0.039  0.277  0.041  0.092 -0.099
Q19 -0.395  0.267  0.110  0.060 -0.052  0.022
Q20  0.412 -0.171 -0.250  0.190  0.241  0.114
Q21  0.644 -0.099 -0.110  0.270  0.283  0.099
Q22 -0.279  0.291  0.050  0.284  0.047  0.114
Q23 -0.130  0.182  0.081  0.235  0.011  0.077

                 PA1   PA2   PA3   PA4   PA5   PA6
SS loadings    6.786 1.140 0.827 0.667 0.452 0.324
Proportion Var 0.295 0.050 0.036 0.029 0.020 0.014
Cumulative Var 0.295 0.345 0.381 0.410 0.429 0.443</code></pre>
</div>
</div>
</section><section id="check-the-structure-matrix" class="level3" data-number="9.11.2"><h3 data-number="9.11.2" class="anchored" data-anchor-id="check-the-structure-matrix">
<span class="header-section-number">9.11.2</span> Check the structure matrix</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">print</span>(paf<span class="sc">$</span>Structure, <span class="at">cutoff=</span><span class="dv">0</span>, <span class="at">digits=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Loadings:
    PA1    PA2    PA3    PA4    PA5    PA6   
Q01  0.567  0.129 -0.120  0.229 -0.275 -0.188
Q02 -0.280  0.369  0.172  0.115 -0.029  0.009
Q03 -0.603  0.245  0.199 -0.022 -0.006  0.030
Q04  0.606  0.082 -0.056  0.184 -0.090 -0.033
Q05  0.523  0.043 -0.020  0.154 -0.167 -0.083
Q06  0.548  0.024  0.488 -0.166  0.073 -0.006
Q07  0.662 -0.026  0.223  0.030  0.107  0.057
Q08  0.545  0.488 -0.272 -0.214  0.096 -0.020
Q09 -0.266  0.462  0.124  0.210  0.097  0.032
Q10  0.405 -0.005  0.172 -0.090 -0.148  0.024
Q11  0.644  0.312 -0.199 -0.270  0.085 -0.037
Q12  0.641 -0.099  0.063  0.154  0.047 -0.067
Q13  0.650  0.024  0.223 -0.058  0.061 -0.134
Q14  0.626 -0.036  0.161  0.056  0.011  0.013
Q15  0.580 -0.007  0.072 -0.152 -0.188  0.436
Q16  0.661 -0.016 -0.109  0.138 -0.283  0.094
Q17  0.629  0.355 -0.155 -0.150  0.038  0.006
Q18  0.683 -0.039  0.277  0.041  0.092 -0.099
Q19 -0.395  0.267  0.110  0.060 -0.052  0.022
Q20  0.412 -0.171 -0.250  0.190  0.241  0.114
Q21  0.644 -0.099 -0.110  0.270  0.283  0.099
Q22 -0.279  0.291  0.050  0.284  0.047  0.114
Q23 -0.130  0.182  0.081  0.235  0.011  0.077

                 PA1   PA2   PA3   PA4   PA5   PA6
SS loadings    6.786 1.140 0.827 0.667 0.452 0.324
Proportion Var 0.295 0.050 0.036 0.029 0.020 0.014
Cumulative Var 0.295 0.345 0.381 0.410 0.429 0.443</code></pre>
</div>
</div>
</section><section id="check-eigenvalues" class="level3" data-number="9.11.3"><h3 data-number="9.11.3" class="anchored" data-anchor-id="check-eigenvalues">
<span class="header-section-number">9.11.3</span> Check eigenvalues</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>paf<span class="sc">$</span>e.values[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.2900471 1.7388287 1.3167515 1.2271982 0.9878779 0.8953304</code></pre>
</div>
</div>
</section><section id="check-communalities" class="level3" data-number="9.11.4"><h3 data-number="9.11.4" class="anchored" data-anchor-id="check-communalities">
<span class="header-section-number">9.11.4</span> Check communalities</h3>
<ul>
<li>Communality for each variable: the percentage of variance that can be explained by the retained factors.</li>
<li>Retained factors should explain more of the variance in each variable.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>paf<span class="sc">$</span>communality</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Q01       Q02       Q03       Q04       Q05       Q06       Q07       Q08 
0.5170176 0.2585136 0.4643374 0.4196524 0.3341637 0.5720655 0.5042725 0.6649413 
      Q09       Q10       Q11       Q12       Q13       Q14       Q15       Q16 
0.3542281 0.2240464 0.6328967 0.4544862 0.4973541 0.4223263 0.5902303 0.5571656 
      Q17       Q18       Q19       Q20       Q21       Q22       Q23 
0.5700891 0.5655104 0.2467731 0.3686202 0.5991875 0.2606533 0.1178839 </code></pre>
</div>
</div>
</section></section><section id="step-6-perform-factor-analysis-with-reduced-number-of-factors" class="level2" data-number="9.12"><h2 data-number="9.12" class="anchored" data-anchor-id="step-6-perform-factor-analysis-with-reduced-number-of-factors">
<span class="header-section-number">9.12</span> Step 6: Perform factor analysis (with reduced number of factors)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>paf1 <span class="ot">&lt;-</span> <span class="fu">fa</span>(raq,</span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="at">nfactors =</span> <span class="dv">2</span>,</span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="at">fm=</span><span class="st">"pa"</span>,</span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="at">max.iter =</span> <span class="dv">100</span>,</span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="at">rotate =</span> <span class="st">"none"</span>)</span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a>paf1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  pa
Call: fa(r = raq, nfactors = 2, rotate = "none", max.iter = 100, fm = "pa")
Standardized loadings (pattern matrix) based upon correlation matrix
      PA1   PA2    h2   u2 com
Q01  0.56  0.12 0.324 0.68 1.1
Q02 -0.28  0.39 0.228 0.77 1.8
Q03 -0.61  0.25 0.430 0.57 1.3
Q04  0.61  0.09 0.377 0.62 1.0
Q05  0.52  0.05 0.276 0.72 1.0
Q06  0.53  0.04 0.282 0.72 1.0
Q07  0.66 -0.01 0.437 0.56 1.0
Q08  0.53  0.40 0.445 0.56 1.9
Q09 -0.27  0.46 0.287 0.71 1.6
Q10  0.40  0.00 0.163 0.84 1.0
Q11  0.63  0.27 0.472 0.53 1.3
Q12  0.64 -0.08 0.421 0.58 1.0
Q13  0.65  0.04 0.421 0.58 1.0
Q14  0.63 -0.02 0.396 0.60 1.0
Q15  0.56  0.00 0.315 0.68 1.0
Q16  0.65 -0.01 0.428 0.57 1.0
Q17  0.63  0.34 0.511 0.49 1.5
Q18  0.68 -0.02 0.461 0.54 1.0
Q19 -0.40  0.28 0.238 0.76 1.8
Q20  0.40 -0.15 0.187 0.81 1.3
Q21  0.63 -0.07 0.403 0.60 1.0
Q22 -0.28  0.29 0.161 0.84 2.0
Q23 -0.13  0.19 0.053 0.95 1.8

                       PA1  PA2
SS loadings           6.67 1.04
Proportion Var        0.29 0.05
Cumulative Var        0.29 0.34
Proportion Explained  0.86 0.14
Cumulative Proportion 0.86 1.00

Mean item complexity =  1.3
Test of the hypothesis that 2 factors are sufficient.

df null model =  253  with the objective function =  7.55 with Chi Square =  19334.49
df of  the model are 208  and the objective function was  1.23 

The root mean square of the residuals (RMSR) is  0.05 
The df corrected root mean square of the residuals is  0.05 

The harmonic n.obs is  2571 with the empirical chi square  3114.53  with prob &lt;  0 
The total n.obs was  2571  with Likelihood Chi Square =  3155.34  with prob &lt;  0 

Tucker Lewis Index of factoring reliability =  0.812
RMSEA index =  0.074  and the 90 % confidence intervals are  0.072 0.077
BIC =  1522.12
Fit based upon off diagonal values = 0.97
Measures of factor score adequacy             
                                                   PA1  PA2
Correlation of (regression) scores with factors   0.96 0.78
Multiple R square of scores with factors          0.92 0.61
Minimum correlation of possible factor scores     0.83 0.23</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">plot</span>(paf1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="factorAnalysis_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="factor-analysis-rotation" class="level2" data-number="9.13"><h2 data-number="9.13" class="anchored" data-anchor-id="factor-analysis-rotation">
<span class="header-section-number">9.13</span> Factor analysis rotation</h2>
<p><strong>What is rotation?</strong></p>
<ul>
<li>It is possible that variables load “highly” onto one factor and “medium” onto another</li>
<li>By rotating the factor axes, the variables are aligned with the factors that they load onto most</li>
<li>This helps us discriminate between factors</li>
</ul>
<p><strong>There are different methods of rotation</strong></p>
<ul>
<li>
<strong>Orthogonal rotation:</strong> Assumes that factors are unrelated and keeps them that way</li>
<li>
<strong>Oblique rotation:</strong> Assumes that factors might be related and allows them to be correlated after rotation</li>
</ul>
<blockquote class="blockquote">
<p>Are factors related? -Theoretical: Do we have logical reason for thinking they could be connected? -Based on data: Does the factor plot suggest independence or relatedness?</p>
</blockquote>
</section><section id="step-7-rotation" class="level2" data-number="9.14"><h2 data-number="9.14" class="anchored" data-anchor-id="step-7-rotation">
<span class="header-section-number">9.14</span> Step 7: Rotation</h2>
<ul>
<li>Perform factor analysis (with rotation)</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>paf2 <span class="ot">&lt;-</span> <span class="fu">fa</span>(raq,</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="at">nfactors =</span> <span class="dv">2</span>,</span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="at">fm=</span><span class="st">"pa"</span>,</span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="at">max.iter =</span> <span class="dv">100</span>,</span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="at">rotate =</span> <span class="st">"oblimin"</span>)</span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a>paf2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  pa
Call: fa(r = raq, nfactors = 2, rotate = "oblimin", max.iter = 100, 
    fm = "pa")
Standardized loadings (pattern matrix) based upon correlation matrix
      PA1   PA2    h2   u2 com
Q01  0.56  0.12 0.324 0.68 1.1
Q02 -0.28  0.39 0.228 0.77 1.8
Q03 -0.61  0.25 0.430 0.57 1.3
Q04  0.61  0.09 0.377 0.62 1.0
Q05  0.52  0.05 0.276 0.72 1.0
Q06  0.53  0.04 0.282 0.72 1.0
Q07  0.66 -0.01 0.437 0.56 1.0
Q08  0.53  0.40 0.445 0.56 1.9
Q09 -0.27  0.46 0.287 0.71 1.6
Q10  0.40  0.00 0.163 0.84 1.0
Q11  0.63  0.27 0.472 0.53 1.3
Q12  0.64 -0.08 0.421 0.58 1.0
Q13  0.65  0.04 0.421 0.58 1.0
Q14  0.63 -0.02 0.396 0.60 1.0
Q15  0.56  0.00 0.315 0.68 1.0
Q16  0.65 -0.01 0.428 0.57 1.0
Q17  0.63  0.34 0.511 0.49 1.5
Q18  0.68 -0.02 0.461 0.54 1.0
Q19 -0.40  0.28 0.238 0.76 1.8
Q20  0.40 -0.15 0.187 0.81 1.3
Q21  0.63 -0.07 0.403 0.60 1.0
Q22 -0.28  0.29 0.161 0.84 2.0
Q23 -0.13  0.19 0.053 0.95 1.8

                       PA1  PA2
SS loadings           6.67 1.04
Proportion Var        0.29 0.05
Cumulative Var        0.29 0.34
Proportion Explained  0.86 0.14
Cumulative Proportion 0.86 1.00

Mean item complexity =  1.3
Test of the hypothesis that 2 factors are sufficient.

df null model =  253  with the objective function =  7.55 with Chi Square =  19334.49
df of  the model are 208  and the objective function was  1.23 

The root mean square of the residuals (RMSR) is  0.05 
The df corrected root mean square of the residuals is  0.05 

The harmonic n.obs is  2571 with the empirical chi square  3114.53  with prob &lt;  0 
The total n.obs was  2571  with Likelihood Chi Square =  3155.34  with prob &lt;  0 

Tucker Lewis Index of factoring reliability =  0.812
RMSEA index =  0.074  and the 90 % confidence intervals are  0.072 0.077
BIC =  1522.12
Fit based upon off diagonal values = 0.97
Measures of factor score adequacy             
                                                   PA1  PA2
Correlation of (regression) scores with factors   0.96 0.78
Multiple R square of scores with factors          0.92 0.61
Minimum correlation of possible factor scores     0.83 0.23</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">plot</span>(paf1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="factorAnalysis_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">plot</span>(paf2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="factorAnalysis_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="reliability-internal-consistency" class="level2" data-number="9.15"><h2 data-number="9.15" class="anchored" data-anchor-id="reliability-internal-consistency">
<span class="header-section-number">9.15</span> Reliability / internal consistency</h2>
<section id="cronbachs-alpha" class="level3" data-number="9.15.1"><h3 data-number="9.15.1" class="anchored" data-anchor-id="cronbachs-alpha">
<span class="header-section-number">9.15.1</span> Cronbach’s Alpha</h3>
<ul>
<li>An expansion of the split-half reliability concept</li>
<li>Alpha takes all possible combination of items and assesses their relationship to each other</li>
<li>High values above 0.7 suggest internal consistency among items</li>
</ul></section><section id="chronbachs-alpha-in-r" class="level3" data-number="9.15.2"><h3 data-number="9.15.2" class="anchored" data-anchor-id="chronbachs-alpha-in-r">
<span class="header-section-number">9.15.2</span> Chronbach’s Alpha in R</h3>
<ul>
<li>We can use the <em>alpha()</em> function in the psych package</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb31-2"><a href="#cb31-2"></a></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="fu">alpha</span>(raq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Some items ( Q02 Q03 Q09 Q19 Q22 Q23 ) were negatively correlated with the total scale and 
probably should be reversed.  
To do this, run the function again with the 'check.keys=TRUE' option
Reliability analysis   
Call: alpha(x = raq)

  raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd median_r
      0.75      0.77    0.83      0.13 3.4 0.0065  3.3 0.39     0.23

    95% confidence boundaries 
         lower alpha upper
Feldt     0.74  0.75  0.77
Duhachek  0.74  0.75  0.77

 Reliability if an item is dropped:
    raw_alpha std.alpha G6(smc) average_r S/N alpha se var.r med.r
Q01      0.73      0.76    0.82      0.12 3.1   0.0071 0.071  0.23
Q02      0.77      0.79    0.84      0.15 3.8   0.0061 0.071  0.25
Q03      0.79      0.81    0.85      0.16 4.2   0.0055 0.059  0.25
Q04      0.73      0.75    0.82      0.12 3.0   0.0072 0.070  0.22
Q05      0.74      0.76    0.82      0.12 3.1   0.0071 0.072  0.22
Q06      0.73      0.76    0.82      0.12 3.1   0.0072 0.072  0.23
Q07      0.73      0.75    0.82      0.12 3.0   0.0074 0.069  0.22
Q08      0.73      0.76    0.82      0.12 3.1   0.0071 0.072  0.23
Q09      0.78      0.79    0.84      0.15 3.8   0.0058 0.071  0.25
Q10      0.74      0.76    0.83      0.13 3.3   0.0068 0.074  0.23
Q11      0.73      0.75    0.81      0.12 3.0   0.0072 0.069  0.22
Q12      0.73      0.75    0.82      0.12 3.1   0.0072 0.069  0.22
Q13      0.73      0.75    0.82      0.12 3.0   0.0073 0.069  0.22
Q14      0.73      0.75    0.82      0.12 3.1   0.0072 0.070  0.22
Q15      0.73      0.76    0.82      0.12 3.1   0.0071 0.071  0.22
Q16      0.73      0.75    0.82      0.12 3.0   0.0072 0.069  0.22
Q17      0.73      0.75    0.81      0.12 3.0   0.0072 0.070  0.22
Q18      0.72      0.75    0.81      0.12 3.0   0.0074 0.068  0.22
Q19      0.78      0.80    0.85      0.15 4.0   0.0057 0.067  0.26
Q20      0.75      0.77    0.83      0.13 3.3   0.0067 0.073  0.25
Q21      0.73      0.75    0.82      0.12 3.1   0.0072 0.069  0.22
Q22      0.77      0.79    0.84      0.15 3.8   0.0059 0.071  0.26
Q23      0.77      0.79    0.84      0.14 3.7   0.0061 0.074  0.26

 Item statistics 
       n   raw.r  std.r  r.cor r.drop mean   sd
Q01 2571  0.5598  0.581  0.564  0.492  3.6 0.83
Q02 2571 -0.0116 -0.018 -0.114 -0.105  4.4 0.85
Q03 2571 -0.3356 -0.361 -0.465 -0.435  3.4 1.08
Q04 2571  0.6064  0.618  0.606  0.533  3.2 0.95
Q05 2571  0.5365  0.546  0.516  0.454  3.3 0.96
Q06 2571  0.5709  0.560  0.547  0.478  3.8 1.12
Q07 2571  0.6409  0.636  0.635  0.560  3.1 1.10
Q08 2571  0.5646  0.582  0.578  0.493  3.8 0.87
Q09 2571  0.0587  0.020 -0.068 -0.081  3.2 1.26
Q10 2571  0.4300  0.442  0.391  0.346  3.7 0.88
Q11 2571  0.6078  0.628  0.633  0.540  3.7 0.88
Q12 2571  0.5909  0.602  0.593  0.519  2.8 0.92
Q13 2571  0.6288  0.637  0.634  0.559  3.6 0.95
Q14 2571  0.6056  0.609  0.596  0.528  3.1 1.00
Q15 2571  0.5433  0.550  0.526  0.457  3.2 1.01
Q16 2571  0.5965  0.615  0.612  0.525  3.1 0.92
Q17 2571  0.6329  0.650  0.653  0.568  3.5 0.88
Q18 2571  0.6534  0.653  0.656  0.578  3.4 1.05
Q19 2571 -0.1316 -0.157 -0.264 -0.248  3.7 1.10
Q20 2571  0.3705  0.375  0.326  0.265  2.4 1.04
Q21 2571  0.5922  0.598  0.591  0.514  2.8 0.98
Q22 2571 -0.0063 -0.027 -0.127 -0.121  3.1 1.04
Q23 2571  0.1030  0.084 -0.014 -0.013  2.6 1.04

Non missing response frequency for each item
       1    2    3    4    5 miss
Q01 0.02 0.07 0.29 0.52 0.11    0
Q02 0.01 0.04 0.08 0.31 0.56    0
Q03 0.03 0.17 0.34 0.26 0.19    0
Q04 0.05 0.17 0.36 0.37 0.05    0
Q05 0.04 0.18 0.29 0.43 0.06    0
Q06 0.06 0.10 0.13 0.44 0.27    0
Q07 0.09 0.24 0.26 0.34 0.07    0
Q08 0.03 0.06 0.19 0.58 0.15    0
Q09 0.08 0.28 0.23 0.20 0.20    0
Q10 0.02 0.10 0.18 0.57 0.14    0
Q11 0.02 0.06 0.22 0.53 0.16    0
Q12 0.09 0.23 0.46 0.20 0.02    0
Q13 0.03 0.12 0.25 0.48 0.12    0
Q14 0.07 0.18 0.38 0.31 0.06    0
Q15 0.06 0.18 0.30 0.39 0.07    0
Q16 0.06 0.16 0.42 0.33 0.04    0
Q17 0.03 0.10 0.27 0.52 0.08    0
Q18 0.06 0.12 0.31 0.37 0.14    0
Q19 0.02 0.15 0.22 0.33 0.29    0
Q20 0.22 0.37 0.25 0.15 0.02    0
Q21 0.09 0.29 0.34 0.26 0.02    0
Q22 0.05 0.26 0.34 0.26 0.10    0
Q23 0.12 0.42 0.27 0.12 0.06    0</code></pre>
</div>
</div>
<ul>
<li>Here we get a warning that some of the items are negatively correlated and we should probably reverse them.</li>
<li>The decision to do so should be based on the logic of the questions themselves - check first</li>
<li>However, since cronbach’s alpha is designed to check internal consistency related to a single construct, we would expect that negative correlations would only result from:
<ul>
<li>Items that are designed to be reverse-scored</li>
<li>Questions that are related to another factor or construct</li>
</ul>
</li>
<li>Let’s check the questionnaire
<ul>
<li>(Q02, Q03, Q09, Q19, Q22, Q23):</li>
</ul>
</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/raq.png" style="width:100.0%;height:100.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>It is possible to run the analysis with automatic reversal of negatively-correlated items</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">alpha</span>(raq, <span class="at">check.keys=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: alpha(x = raq, check.keys = TRUE)

  raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd median_r
      0.89      0.89    0.91      0.27 8.3 0.0031  3.1 0.54     0.27

    95% confidence boundaries 
         lower alpha upper
Feldt     0.88  0.89   0.9
Duhachek  0.88  0.89   0.9

 Reliability if an item is dropped:
     raw_alpha std.alpha G6(smc) average_r S/N alpha se var.r med.r
Q01       0.88      0.89    0.90      0.26 7.9   0.0032 0.016  0.27
Q02-      0.89      0.89    0.91      0.28 8.4   0.0031 0.016  0.28
Q03-      0.88      0.89    0.90      0.26 7.8   0.0033 0.017  0.26
Q04       0.88      0.89    0.90      0.26 7.8   0.0033 0.016  0.26
Q05       0.89      0.89    0.90      0.27 8.0   0.0032 0.017  0.27
Q06       0.88      0.89    0.90      0.27 8.0   0.0032 0.016  0.27
Q07       0.88      0.89    0.90      0.26 7.7   0.0034 0.016  0.26
Q08       0.89      0.89    0.90      0.27 8.0   0.0032 0.016  0.27
Q09-      0.89      0.89    0.91      0.28 8.4   0.0030 0.016  0.28
Q10       0.89      0.89    0.90      0.27 8.2   0.0032 0.017  0.28
Q11       0.88      0.89    0.90      0.26 7.8   0.0033 0.016  0.26
Q12       0.88      0.89    0.90      0.26 7.7   0.0033 0.016  0.26
Q13       0.88      0.89    0.90      0.26 7.7   0.0033 0.016  0.26
Q14       0.88      0.89    0.90      0.26 7.8   0.0033 0.016  0.26
Q15       0.88      0.89    0.90      0.26 7.9   0.0033 0.017  0.27
Q16       0.88      0.89    0.90      0.26 7.7   0.0033 0.016  0.26
Q17       0.88      0.89    0.90      0.26 7.8   0.0033 0.016  0.26
Q18       0.88      0.88    0.90      0.26 7.7   0.0034 0.016  0.26
Q19-      0.89      0.89    0.90      0.27 8.2   0.0032 0.017  0.29
Q20       0.89      0.89    0.90      0.27 8.2   0.0032 0.017  0.28
Q21       0.88      0.89    0.90      0.26 7.7   0.0033 0.016  0.26
Q22-      0.89      0.89    0.91      0.28 8.4   0.0031 0.016  0.29
Q23-      0.89      0.90    0.91      0.28 8.7   0.0030 0.014  0.29

 Item statistics 
        n raw.r std.r r.cor r.drop mean   sd
Q01  2571  0.55  0.57  0.54   0.50  3.6 0.83
Q02- 2571  0.36  0.36  0.31   0.30  1.6 0.85
Q03- 2571  0.65  0.64  0.62   0.59  2.6 1.08
Q04  2571  0.61  0.61  0.59   0.55  3.2 0.95
Q05  2571  0.54  0.55  0.52   0.48  3.3 0.96
Q06  2571  0.56  0.55  0.53   0.49  3.8 1.12
Q07  2571  0.67  0.67  0.65   0.62  3.1 1.10
Q08  2571  0.51  0.53  0.51   0.46  3.8 0.87
Q09- 2571  0.37  0.35  0.30   0.28  2.8 1.26
Q10  2571  0.44  0.45  0.40   0.38  3.7 0.88
Q11  2571  0.63  0.64  0.63   0.58  3.7 0.88
Q12  2571  0.65  0.65  0.64   0.60  2.8 0.92
Q13  2571  0.65  0.65  0.64   0.60  3.6 0.95
Q14  2571  0.64  0.64  0.62   0.59  3.1 1.00
Q15  2571  0.59  0.59  0.56   0.53  3.2 1.01
Q16  2571  0.66  0.67  0.65   0.61  3.1 0.92
Q17  2571  0.61  0.62  0.61   0.56  3.5 0.88
Q18  2571  0.68  0.68  0.67   0.63  3.4 1.05
Q19- 2571  0.47  0.46  0.42   0.40  2.3 1.10
Q20  2571  0.45  0.45  0.41   0.38  2.4 1.04
Q21  2571  0.64  0.64  0.63   0.59  2.8 0.98
Q22- 2571  0.37  0.36  0.31   0.30  2.9 1.04
Q23- 2571  0.23  0.22  0.15   0.15  3.4 1.04

Non missing response frequency for each item
       1    2    3    4    5 miss
Q01 0.02 0.07 0.29 0.52 0.11    0
Q02 0.01 0.04 0.08 0.31 0.56    0
Q03 0.03 0.17 0.34 0.26 0.19    0
Q04 0.05 0.17 0.36 0.37 0.05    0
Q05 0.04 0.18 0.29 0.43 0.06    0
Q06 0.06 0.10 0.13 0.44 0.27    0
Q07 0.09 0.24 0.26 0.34 0.07    0
Q08 0.03 0.06 0.19 0.58 0.15    0
Q09 0.08 0.28 0.23 0.20 0.20    0
Q10 0.02 0.10 0.18 0.57 0.14    0
Q11 0.02 0.06 0.22 0.53 0.16    0
Q12 0.09 0.23 0.46 0.20 0.02    0
Q13 0.03 0.12 0.25 0.48 0.12    0
Q14 0.07 0.18 0.38 0.31 0.06    0
Q15 0.06 0.18 0.30 0.39 0.07    0
Q16 0.06 0.16 0.42 0.33 0.04    0
Q17 0.03 0.10 0.27 0.52 0.08    0
Q18 0.06 0.12 0.31 0.37 0.14    0
Q19 0.02 0.15 0.22 0.33 0.29    0
Q20 0.22 0.37 0.25 0.15 0.02    0
Q21 0.09 0.29 0.34 0.26 0.02    0
Q22 0.05 0.26 0.34 0.26 0.10    0
Q23 0.12 0.42 0.27 0.12 0.06    0</code></pre>
</div>
</div>


</section></section></main><!-- /main --><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script><script>
// open rdrr links externally ----

var exlinks = document.querySelectorAll("a[href^='https://rdrr.io']");
var exlink_func = function(){
  window.open(this.href);
  return false;
};
for (var i = 0; i < exlinks.length; i++) {
    exlinks[i].addEventListener('click', exlink_func, false);
}

// visible second sidebar in mobile ----

function move_sidebar() {
  var toc = document.getElementById("TOC");
  var small_sidebar = document.querySelector("#quarto-sidebar .sidebar-menu-container");
  var right_sidebar = document.getElementById("quarto-margin-sidebar");

  if (window.innerWidth < 768) {
    small_sidebar.append(toc);
  } else {
    right_sidebar.append(toc);
  }
}
move_sidebar();
window.onresize = move_sidebar;
</script><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./mediation.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Mediation analysis</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
      <div class="nav-footer-center">CC-BY (2023) Christopher Wilson. With grateful thanks to the <a href="https://debruine.github.io/booktem/">psyTeachR</a> team and packages</div>
  </div>
</footer>


</body></html>